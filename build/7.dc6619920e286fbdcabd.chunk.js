(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"./app/containers/CountrySelectorField/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-redux/lib/index.js")),a=n("./node_modules/reselect/es/index.js"),s=(n("./node_modules/immutable/dist/immutable.js"),n("./node_modules/normalizr/dist/src/index.js")),l=n("./app/containers/App/actions.js"),u=new s.schema.Entity("countries"),c={key:"countries",url:"location/countries",schema:{items:new s.schema.Array(u)}};var f,d=n("./app/containers/CountrySelectorField/selectors.js"),p=n("./node_modules/redux-form/immutable.js"),m=n("./app/components/ui/index.js"),b=(f="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&o)for(var a in o)void 0===t[a]&&(t[a]=o[a]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+3];t.children=s}return{$$typeof:f,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleCountrySearchChange=function(e){r.props.loadCountries({search:e,orderBy:"name:asc"})},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.PureComponent),y(t,[{key:"componentDidMount",value:function(){this.props.loadCountries({orderBy:"name:asc"})}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.label,r=e.countries,o=e.countriesLoading;return b(p.Field,{name:t,component:m.n.Select,label:n,options:r.toJS(),loading:o,onSearchChange:this.handleCountrySearchChange,props:{onChange:this.props.onCountryChange}})}}]),t}();t.a=Object(i.connect)(function(){return Object(a.b)({countries:Object(d.a)(),countriesLoading:Object(d.b)()})},{loadCountries:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.resolve,r=t.reject;return l.h.request(e,c,{resolve:n,reject:r})}})(v)},"./app/containers/CountrySelectorField/selectors.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=n("./node_modules/reselect/es/index.js"),o=n("./node_modules/immutable/dist/immutable.js"),i=n("./app/containers/App/selectors.js"),a=function(){return Object(r.a)([Object(i.a)()],function(e){return e.getIn(["countries","displayOrder"]).map(function(t){var n=e.getIn(["countries","items",t]),r=n.get("nativeName")+" ("+n.get("name")+")";return Object(o.fromJS)({id:t,key:t,text:r,value:t,timezones:n.get("timezones")})})})},s=function(){return Object(r.a)(Object(i.a)(),function(e){return e.getIn(["countries","loading"])})}},"./app/containers/TimezoneSelectorField/index.js":function(e,t,n){"use strict";var r,o=n("./node_modules/react/index.js"),i=n.n(o),a=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-redux/lib/index.js")),s=n("./node_modules/reselect/es/index.js"),l=n("./app/containers/App/selectors.js"),u=n("./app/containers/CountrySelectorField/selectors.js"),c=n("./node_modules/redux-form/immutable.js"),f=n("./app/components/ui/index.js"),d=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.PureComponent),p(t,[{key:"render",value:function(){var e=this.props,t=e.countryId,n=e.name,r=e.label,o=e.timezones,i=e.loading;return d(c.Field,{name:n,component:f.n.Select,label:r,options:o,loading:i,disabled:!t})}}]),t}();t.a=Object(a.connect)(function(){return Object(s.b)({timezones:Object(s.a)([Object(l.a)(),function(e,t){return t.countryId}],function(e,t){return t?e.getIn(["countries","items",t,"timezones"]).map(function(e){return{key:e.get("id"),text:e.get("name"),value:e.get("name")}}).toJS():[]}),loading:Object(u.b)()})},null)(m)},"./app/containers/screens/Dashboard/SettingsPage/index.js":function(e,t,n){"use strict";n.r(t);var r,o=n("./node_modules/react/index.js"),i=n.n(o),a=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-redux/lib/index.js")),s=n("./node_modules/reselect/es/index.js"),l=n("./node_modules/react-intl/lib/index.es.js"),u=n("./app/containers/App/actions.js"),c=n("./app/containers/App/selectors.js"),f=n("./node_modules/redux-form/immutable.js"),d=n("./app/components/ui/index.js"),p=n("./node_modules/semantic-ui-react/dist/es/index.js"),m=n("./app/containers/CountrySelectorField/index.js"),b=n("./app/containers/TimezoneSelectorField/index.js"),y=Object(l.d)({firstNameLabel:{id:"containers.SettingsForm.firstNameLabel",defaultMessage:"First Name"},firstNameHint:{id:"containers.SettingsForm.firstNameHint",defaultMessage:"Please enter your first name"},lastNameLabel:{id:"containers.SettingsForm.lastNameLabel",defaultMessage:"Last Name"},lastNameHint:{id:"containers.SettingsForm.lastNameHint",defaultMessage:"Please enter your last name"},exerciseTimeLabel:{id:"containers.SettingsForm.exerciseTimeLabel",defaultMessage:"Exercise time"},saveButtonLabel:{id:"containers.SettingsForm.saveButtonLabel",defaultMessage:"Save"}}),h=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===a)t.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=h("br",{}),_=h("br",{}),O=h("br",{}),x=h("br",{}),S=h("br",{}),w=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={countryId:null},r.submitForm=function(e){return console.log("values",e.toJS()),new Promise(function(t,n){r.props.updateProfile(e.toJS(),{resolve:t,reject:n})}).catch(function(e){var t=e.validationErrors;if(t)throw new f.SubmissionError(t)})},r.handleCountryChange=function(e){r.setState({countryId:e})},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.PureComponent),v(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(f.initialize)("settingsForm",this.props.initialValues))}},{key:"render",value:function(){var e=this.state.countryId,t=this.props,n=t.handleSubmit,r=t.submitting,o=t.intl.formatMessage,a=t.initialValues;return h(f.Form,{onSubmit:n(this.submitForm)},void 0,h(p.f,{columns:2},void 0,h(p.f.Row,{},void 0,h(p.f.Column,{},void 0,h(d.l,{},void 0,h(f.Field,{name:"firstName",type:"text",component:d.n.Input,label:o(y.firstNameLabel),hintText:o(y.firstNameHint)}),h(f.Field,{name:"lastName",type:"text",component:d.n.Input,label:o(y.lastNameLabel),hintText:o(y.lastNameHint)}),h(d.i,{disabled:!0,value:a.email}),h(m.a,{name:"country",label:"Country",onCountryChange:this.handleCountryChange}),h(b.a,{name:"timezone",label:"Timezone",countryId:e},e))),h(p.f.Column,{},void 0,h(d.l,{},void 0,h(f.Field,{name:"exerciseTime",component:d.n.TimeSelector,label:o(y.exerciseTimeLabel)}),g,_,"Reminders",O,"- email",x,"- push (mobile app)",S,"- browser")))),h(p.a,{type:"submit",fluid:!0,loading:r,disabled:r},void 0,i.a.createElement(l.a,y.saveButtonLabel)))}}]),t}();w=Object(a.connect)(function(){return Object(s.b)({initialValues:Object(c.e)()})},function(e){return{dispatch:e,updateProfile:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.resolve,o=n.reject;return e(Object(u.t)(t,{resolve:r,reject:o}))}}})(Object(l.e)(w));var C=Object(f.reduxForm)({form:"settingsForm",validate:function(e){var t={};return e.get("firstName")||(t.firstName="required"),e.get("lastName")||(t.lastName="required"),e.get("reviewTime")||(t.reviewTime="required"),e.get("country")||(t.country="required"),e.get("timezone")||(t.timezone="required"),t}})(w);n.d(t,"default",function(){return N});var F=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,n,r,o){var i=t&&t.defaultProps,a=arguments.length-3;if(n||0===a||(n={}),n&&i)for(var s in i)void 0===n[s]&&(n[s]=i[s]);else n||(n=i||{});if(1===a)n.children=o;else if(a>1){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+3];n.children=l}return{$$typeof:e,type:t,key:void 0===r?null:""+r,ref:null,props:n,_owner:null}}}(),P=F("div",{},void 0,F(C,{}));function N(){return P}}}]);